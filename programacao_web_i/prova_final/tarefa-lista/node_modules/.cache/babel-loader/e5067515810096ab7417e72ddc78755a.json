{"ast":null,"code":"//TODAS AS VARIÁVEIS\nconst todoTitleInput = document.querySelector(\"#todoTitle\");\nconst addTodoForm = document.querySelector(\"#addTodoForm\");\nconst todoListOutput = document.querySelector(\"#todoList\");\nlet allTodoList = [];\nlet isEditMode = false;\nlet selectedIndex = null; //PRINCIPAL FUNÇÃO\n\nfunction start() {\n  addTodoForm.addEventListener(\"submit\", handleSubmitTodo);\n  getTodoListFromLocalStorage();\n  renderTodoList();\n  todoTitleInput.focus();\n} //FUNÇÕES DE AÇÃO\n\n\nfunction handleSubmitTodo(event) {\n  event.preventDefault();\n  todoTitleInput.focus();\n  const title = todoTitleInput.ariaValueMax.trim();\n\n  if (!title) {\n    clearInput();\n    return;\n  }\n\n  if (isEditMode) {\n    handleUpdateTodo(title);\n  } else {\n    handleAddTodo(title);\n  }\n\n  clearInput();\n  renderTodoList();\n}\n\nfunction toggleTodoUpdateMode(event) {\n  const itemToUpdate = Number(event.currentTarget.id.split(\"-\")[1]);\n  todoTitleInput.value = allTodoList[itemToUpdate].title;\n  selectedIndex = itemToUpdate;\n  isEditMode = true;\n  todoTitleInput.focus();\n}\n\nfunction handleAddTodo(todoTitle) {\n  allTodoList.push({\n    title: todoTitle,\n    isDone: false\n  });\n}\n\nfunction handleUpdateTodo(todoTitle) {\n  allTodoList[selectedIndex].title = todoTitle;\n}\n\nfunction handleDeleteTodo(event) {\n  let confirmDelete = confirm(\"Você tem certeza que deseja deletar a tarefa?\");\n\n  if (confirmDelete) {\n    const itemIndexToDelete = Number(event.currentTarget.id.split(\"-\")[1]);\n    allTodoList = allTodoList.filter((_, i) => i !== itemIndexToDelete);\n  }\n\n  renderTodoList();\n}\n\nfunction handleCompleteTodo(event) {\n  const itemToComplete = Number(event.currentTarget.id.split(\"-\")[1]);\n  allTodoList.forEach((todo, index) => {\n    if (index === itemToComplete) {\n      todo.isDone = !todo.isDone;\n    }\n  });\n  renderTodoList();\n} //FUNÇÕES DO HTML\n\n\nfunction createTodoItemHTML(itemData, itemIdex) {\n  const {\n    title,\n    isDone\n  } = itemData; //prettier-ignore\n\n  return `\n    <li>\n        <span class=\"todo-text ${isDone ? \"completed\" : \"\"}\">\n        <input type=\"checkbox\" id=\"item-${itemIndex}\" ${isDone ? \"checked\" : \"\"}/> ${title}\n        </span>\n\n        <div class=\"todo-list-controls\">\n            <button type=\"button\" id=\"update_item-${itemIndex}\" class=\"btn btn-update\"> <i class=\"far fa-edit\"></i> </button>\n            <button type=\"button\" id=\"del_item-${itemIndex}\" class=\"btn btn-delete\"> <i class=\"far fa-trash-alt\"></i> </button>\n        </div>\n    </li>\n    `;\n} //FUNÇÃO DE RENDERIZAÇÃO\n\n\nfunction renderTodoList() {\n  if (allTodoList.length === 0) {\n    removeTodoListFromLocalStorage();\n    return todoListOutput.innerHTML = \"<p class='info-message'>Nenhuma tarefa cadastrada.<p>\";\n  }\n\n  let todoListHTML = allTodoList.map((item, i) => {\n    return createTodoItemHTML(item, 1);\n  });\n  todoListOutput.innerHTML = todoListHTML.join(\"\");\n  allTodoList.forEach((_, i) => {\n    const checkbox = document.getElementById(`item-${i}`);\n    const deleteButton = document.getElementById(`del_item-${i}`);\n    const updateButton = document.getElementById(`update_item-${i}`);\n    checkbox.addEventListener(\"input\", handleCompleteTodo);\n    deleteButton.addEventListener(\"click\", handleDeleteTodo);\n    updateButton.addEventListener(\"click\", toggleTodoUpdateMode);\n  });\n  setTodoListToLocalStorage();\n} //ARMAZENAMENTO NO LOCALSTORAGE\n\n\nfunction getTodoListFromLocalStorage() {\n  const localStorageList = JSON.parse(localStorage.getItem(\"todoList\"));\n\n  if (localStorageList) {\n    allTodoList = localStorageList;\n  }\n}\n\nfunction setTodoListToLocalStorage() {\n  localStorage.setItem(\"todoList\", JSON.stringify());\n}","map":{"version":3,"names":["todoTitleInput","document","querySelector","addTodoForm","todoListOutput","allTodoList","isEditMode","selectedIndex","start","addEventListener","handleSubmitTodo","getTodoListFromLocalStorage","renderTodoList","focus","event","preventDefault","title","ariaValueMax","trim","clearInput","handleUpdateTodo","handleAddTodo","toggleTodoUpdateMode","itemToUpdate","Number","currentTarget","id","split","value","todoTitle","push","isDone","handleDeleteTodo","confirmDelete","confirm","itemIndexToDelete","filter","_","i","handleCompleteTodo","itemToComplete","forEach","todo","index","createTodoItemHTML","itemData","itemIdex","itemIndex","length","removeTodoListFromLocalStorage","innerHTML","todoListHTML","map","item","join","checkbox","getElementById","deleteButton","updateButton","setTodoListToLocalStorage","localStorageList","JSON","parse","localStorage","getItem","setItem","stringify"],"sources":["D:/Técnico TI/logica_programacao/programacao_web/prova_final/tarefa-lista/src/App.js"],"sourcesContent":["//TODAS AS VARIÁVEIS\r\nconst todoTitleInput = document.querySelector(\"#todoTitle\");\r\nconst addTodoForm = document.querySelector(\"#addTodoForm\");\r\nconst todoListOutput = document.querySelector(\"#todoList\");\r\n\r\nlet allTodoList = [];\r\nlet isEditMode = false;\r\nlet selectedIndex = null;\r\n\r\n//PRINCIPAL FUNÇÃO\r\nfunction start() {\r\n    addTodoForm.addEventListener(\"submit\", handleSubmitTodo);\r\n    getTodoListFromLocalStorage();\r\n    renderTodoList();\r\n    todoTitleInput.focus();\r\n}\r\n\r\n//FUNÇÕES DE AÇÃO\r\nfunction handleSubmitTodo(event) {\r\n    event.preventDefault();\r\n    todoTitleInput.focus();\r\n    const title = todoTitleInput.ariaValueMax.trim();\r\n    if(!title) {\r\n        clearInput();\r\n        return;\r\n    }\r\n\r\n    if(isEditMode) {\r\n        handleUpdateTodo(title);\r\n    }else {\r\n        handleAddTodo(title);\r\n    }\r\n    clearInput();\r\n    renderTodoList();\r\n}\r\n\r\nfunction toggleTodoUpdateMode(event) {\r\n    const itemToUpdate = Number(event.currentTarget.id.split(\"-\")[1]);\r\n    todoTitleInput.value = allTodoList[itemToUpdate].title;\r\n    selectedIndex = itemToUpdate;\r\n    isEditMode = true;\r\n    todoTitleInput.focus();\r\n}\r\n\r\nfunction handleAddTodo(todoTitle) {\r\n    allTodoList.push({ title: todoTitle, isDone: false});\r\n}\r\n\r\nfunction handleUpdateTodo(todoTitle) {\r\n    allTodoList[selectedIndex].title = todoTitle;\r\n}\r\n\r\nfunction handleDeleteTodo(event) {\r\n    let confirmDelete = confirm(\"Você tem certeza que deseja deletar a tarefa?\");\r\n    if(confirmDelete) {\r\n        const itemIndexToDelete = Number(event.currentTarget.id.split(\"-\")[1]);\r\n        allTodoList = allTodoList.filter((_, i) => i !== itemIndexToDelete);\r\n    }\r\n    renderTodoList();\r\n}\r\n\r\nfunction handleCompleteTodo(event) {\r\n    const itemToComplete = Number(event.currentTarget.id.split(\"-\")[1]);\r\n    allTodoList.forEach((todo, index) => {\r\n        if (index === itemToComplete) {\r\n            todo.isDone = !todo.isDone;\r\n        }\r\n    });\r\n    renderTodoList();\r\n}\r\n\r\n//FUNÇÕES DO HTML\r\nfunction createTodoItemHTML(itemData, itemIdex) {\r\n    const { title, isDone } = itemData;\r\n    //prettier-ignore\r\n    return `\r\n    <li>\r\n        <span class=\"todo-text ${isDone ? \"completed\" : \"\"}\">\r\n        <input type=\"checkbox\" id=\"item-${itemIndex}\" ${isDone ? \"checked\" : \"\"}/> ${title}\r\n        </span>\r\n\r\n        <div class=\"todo-list-controls\">\r\n            <button type=\"button\" id=\"update_item-${itemIndex}\" class=\"btn btn-update\"> <i class=\"far fa-edit\"></i> </button>\r\n            <button type=\"button\" id=\"del_item-${itemIndex}\" class=\"btn btn-delete\"> <i class=\"far fa-trash-alt\"></i> </button>\r\n        </div>\r\n    </li>\r\n    `;\r\n}\r\n\r\n//FUNÇÃO DE RENDERIZAÇÃO\r\nfunction renderTodoList() {\r\n    if(allTodoList.length === 0) {\r\n        removeTodoListFromLocalStorage();\r\n        return (todoListOutput.innerHTML = \"<p class='info-message'>Nenhuma tarefa cadastrada.<p>\");\r\n    }\r\n\r\n    let todoListHTML = allTodoList.map((item, i) => {\r\n        return createTodoItemHTML(item, 1);\r\n    });\r\n\r\n    todoListOutput.innerHTML = todoListHTML.join(\"\");\r\n\r\n    allTodoList.forEach((_, i) => {\r\n        const checkbox = document.getElementById(`item-${i}`);\r\n        const deleteButton = document.getElementById(`del_item-${i}`);\r\n        const updateButton = document.getElementById(`update_item-${i}`);\r\n        checkbox.addEventListener(\"input\", handleCompleteTodo);\r\n        deleteButton.addEventListener(\"click\", handleDeleteTodo);\r\n        updateButton.addEventListener(\"click\", toggleTodoUpdateMode);\r\n    });\r\n    setTodoListToLocalStorage();\r\n}\r\n\r\n//ARMAZENAMENTO NO LOCALSTORAGE\r\nfunction getTodoListFromLocalStorage() {\r\n    const localStorageList = JSON.parse(localStorage.getItem(\"todoList\"));\r\n    if(localStorageList) {\r\n        allTodoList = localStorageList;\r\n    }\r\n}\r\n\r\nfunction setTodoListToLocalStorage() {\r\n    localStorage.setItem(\"todoList\", JSON.stringify())\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}