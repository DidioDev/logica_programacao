{"ast":null,"code":"//TODAS AS VARIÁVEIS\nconst todoTitleInput = document.querySelector(\"#todoTitle\");\nconst addTodoForm = document.querySelector(\"#addTodoForm\");\nconst todoListOutput = document.querySelector(\"#todoList\");\nlet allTodoList = [];\nlet isEditMonpde = false;\nlet selectedIndex = null; //FUNÇÃO PRINCIPAL\n\nfunction start() {\n  addTodoForm.addEventListener(\"submit\", handleSubmitTodo);\n  getTodoListFromLocalStorage();\n  renderTodoList();\n  todoTitleInput.focus();\n} //FUNÇÕES DE AÇÃO\n\n\nfunction handleSubmitTodo(event) {\n  event.preventDefault();\n  todoTitleInput.focus();\n  const title = todoTitleInput.value.trim();\n\n  if (!title) {\n    clearInput();\n    return;\n  }\n\n  if (isEditMode) {\n    handleUpdateTodo(title);\n  } else {\n    handleAddTodo(title);\n  }\n\n  clearInput();\n  renderTodoList();\n}\n\nfunction toggleTodoUpdateMode(event) {\n  const itemToUpdate = Number(event.currentTarget.id.split(\"-\")[1]);\n  todoTitleInput.value = allTodoList[itemToUpdate].title;\n  selectedIndex = itemToUpdate;\n  isEditMode = true;\n  todoTitleInput.focus();\n}\n\nfunction handleAddTodo(todoTitle) {\n  allTodoList.push({\n    title: todoTitle,\n    isDone: false\n  });\n}\n\nfunction handleUpdateTodo(todoTitle) {\n  allTodoList[selectedIndex].title = todoTitle;\n}\n\nfunction handleDeleteTodo(event) {\n  let confirmDelete = \"Você tem certeza que quer deletar a tarefa?\";\n\n  if (confirmDelete) {\n    const itemIndexToDelete = Number(event.currentTarget.id.split(\"-\")[1]);\n    allTodoList = allTodoList.filter((_, i) => i !== itemIndexToDelete);\n  }\n\n  renderTodoList();\n}\n\nfunction handleCompleteTodo(event) {\n  const itemToComplete = Number(event.currentTarget.id.split(\"-\")[1]);\n  allTodoList.forEach((todo, index) => {\n    if (index === itemToComplete) {\n      todo.isDone = !todo.isDone;\n    }\n  });\n  renderTodoList();\n} //CONSTRUÇÃO HTML\n\n\nfunction createTodoItemHTML(itemData, itemIndex) {\n  const {\n    title,\n    isDone\n  } = itemData;\n  return `\n    <li>\n        <span class=\"todo-text ${isDone ? \"completed\" : \"\"}\">\n            <input type=\"checkbox\" id=\"item-${itemIndex}\" ${isDone ? \"checked\" : \"\"} />${title}</span>\n        <div class=\"todo-list-controls\">\n            <button type=\"button\" id=\"update_item-${itemIndex}\" class=\"btn btn-update\"> <i class=\"far fa-edit\"></i> </button>\n            <button type=\"button\" id=\"del_item-${itemIndex}\" class=\"btn btn-delete\"> <i class=\"far fa-trash-alt\"></i> </button>\n        </div>  \n    </li>\n    `;\n} //FUNÇÃO DE RENDERIZAÇÃO\n\n\nfunction renderTodoList() {\n  if (allTodoList.length === 0) {\n    removeTodoListFromLocalStorage();\n    return todoListOutput.innerHTML = \"<p class='info-message'>Nenhuma tarefa cadastrada.<p>\";\n  }\n\n  let todoListHTML = allTodoList.map((item, i) => {\n    return createTodoItemHTML(item, i);\n  });\n  todoListOutput.innerHTML = todoListHTML.join(\"\");\n  allTodoList.forEach((_, i) => {\n    const checkbox = document.getElementById(`item-${i}`);\n    const deleteButton = document.getElementById(`del_item-${i}`);\n    const updateButton = document.getElementById(`update_item-${i}`);\n    checkbox.addEventListener(\"input\", handleCompleteTodo);\n    deleteButton.addEventListener(\"click\", handleDeleteTodo);\n    updateButton.addEventListener(\"click\", toggleTodoUpdateMode);\n  });\n  setTodoListToLocalStorage();\n} //ARMAZENAMENTO LOCALSTORAGE\n\n\nfunction getTodoListFromLocalStorage() {\n  const localStorageList = JSON.parse(localStorage.getItem(\"todoList\"));\n\n  if (localStorageList) {\n    allTodoList = localStorageList;\n  }\n}\n\nfunction setTodoListToLocalStorage() {\n  localStorage.setItem(\"todoList\", JSON.stringify(allTodoList));\n}\n\nfunction removeTodoListFromLocalStorage() {\n  localStorage.removeItem(\"todoList\");\n} //FUNÇÃO AUXILIAR\n\n\nfunction clearInput() {\n  isEditMode = false;\n  todoTitleInput.value = \"\";\n} //EXECUTAR FUNÇÃO PRINCIPAL\n\n\nstart();","map":{"version":3,"names":["todoTitleInput","document","querySelector","addTodoForm","todoListOutput","allTodoList","isEditMonpde","selectedIndex","start","addEventListener","handleSubmitTodo","getTodoListFromLocalStorage","renderTodoList","focus","event","preventDefault","title","value","trim","clearInput","isEditMode","handleUpdateTodo","handleAddTodo","toggleTodoUpdateMode","itemToUpdate","Number","currentTarget","id","split","todoTitle","push","isDone","handleDeleteTodo","confirmDelete","itemIndexToDelete","filter","_","i","handleCompleteTodo","itemToComplete","forEach","todo","index","createTodoItemHTML","itemData","itemIndex","length","removeTodoListFromLocalStorage","innerHTML","todoListHTML","map","item","join","checkbox","getElementById","deleteButton","updateButton","setTodoListToLocalStorage","localStorageList","JSON","parse","localStorage","getItem","setItem","stringify","removeItem"],"sources":["D:/Técnico TI/logica_programacao/programacao_web/prova_final/tarefa-lista/src/App.js"],"sourcesContent":["//TODAS AS VARIÁVEIS\r\nconst todoTitleInput = document.querySelector(\"#todoTitle\");\r\nconst addTodoForm = document.querySelector(\"#addTodoForm\");\r\nconst todoListOutput = document.querySelector(\"#todoList\");\r\n\r\nlet allTodoList = [];\r\nlet isEditMonpde = false;\r\nlet selectedIndex = null;\r\n\r\n//FUNÇÃO PRINCIPAL\r\nfunction start() {\r\n    addTodoForm.addEventListener(\"submit\", handleSubmitTodo);\r\n    getTodoListFromLocalStorage();\r\n    renderTodoList();\r\n    todoTitleInput.focus();\r\n}\r\n\r\n//FUNÇÕES DE AÇÃO\r\nfunction handleSubmitTodo(event) {\r\n    event.preventDefault();\r\n    todoTitleInput.focus();\r\n    const title = todoTitleInput.value.trim();\r\n    if (!title) {\r\n        clearInput();\r\n        return;\r\n    }\r\n    if (isEditMode) {\r\n        handleUpdateTodo(title);\r\n    } else {\r\n        handleAddTodo(title);\r\n    }\r\n\r\n    clearInput();\r\n    renderTodoList();\r\n}\r\n\r\nfunction toggleTodoUpdateMode(event) {\r\n    const itemToUpdate = Number(event.currentTarget.id.split(\"-\")[1]);\r\n    todoTitleInput.value = allTodoList[itemToUpdate].title;\r\n    selectedIndex = itemToUpdate;\r\n    isEditMode = true;\r\n    todoTitleInput.focus();\r\n}\r\n\r\nfunction handleAddTodo(todoTitle) {\r\n    allTodoList.push({ title: todoTitle, isDone: false });\r\n}\r\n\r\nfunction handleUpdateTodo(todoTitle) {\r\n    allTodoList[selectedIndex].title = todoTitle;\r\n}\r\n\r\nfunction handleDeleteTodo(event) {\r\n    let confirmDelete = (\"Você tem certeza que quer deletar a tarefa?\");\r\n    if (confirmDelete) {\r\n        const itemIndexToDelete = Number(event.currentTarget.id.split(\"-\")[1]);\r\n        allTodoList = allTodoList.filter((_, i) => i !== itemIndexToDelete);\r\n    }\r\n\r\n    renderTodoList();\r\n}\r\n\r\nfunction handleCompleteTodo(event) {\r\n    const itemToComplete = Number(event.currentTarget.id.split(\"-\")[1]);\r\n    allTodoList.forEach((todo, index) => {\r\n        if (index === itemToComplete) {\r\n            todo.isDone = !todo.isDone;\r\n        }\r\n    });\r\n\r\n    renderTodoList();\r\n}\r\n\r\n//CONSTRUÇÃO HTML\r\nfunction createTodoItemHTML(itemData, itemIndex) {\r\n    const { title, isDone } = itemData;\r\n    return `\r\n    <li>\r\n        <span class=\"todo-text ${isDone ? \"completed\" : \"\"}\">\r\n            <input type=\"checkbox\" id=\"item-${itemIndex}\" ${isDone ? \"checked\" : \"\"} />${title}</span>\r\n        <div class=\"todo-list-controls\">\r\n            <button type=\"button\" id=\"update_item-${itemIndex}\" class=\"btn btn-update\"> <i class=\"far fa-edit\"></i> </button>\r\n            <button type=\"button\" id=\"del_item-${itemIndex}\" class=\"btn btn-delete\"> <i class=\"far fa-trash-alt\"></i> </button>\r\n        </div>  \r\n    </li>\r\n    `;\r\n}\r\n\r\n//FUNÇÃO DE RENDERIZAÇÃO\r\nfunction renderTodoList() {\r\n    if (allTodoList.length === 0) {\r\n        removeTodoListFromLocalStorage();\r\n        return (todoListOutput.innerHTML = \"<p class='info-message'>Nenhuma tarefa cadastrada.<p>\");\r\n    }\r\n\r\n    let todoListHTML = allTodoList.map((item, i) => {\r\n        return createTodoItemHTML(item, i);\r\n    });\r\n\r\n    todoListOutput.innerHTML = todoListHTML.join(\"\");\r\n\r\n    allTodoList.forEach((_, i) => {\r\n        const checkbox = document.getElementById(`item-${i}`);\r\n        const deleteButton = document.getElementById(`del_item-${i}`);\r\n        const updateButton = document.getElementById(`update_item-${i}`);\r\n        checkbox.addEventListener(\"input\", handleCompleteTodo);\r\n        deleteButton.addEventListener(\"click\", handleDeleteTodo);\r\n        updateButton.addEventListener(\"click\", toggleTodoUpdateMode);\r\n    });\r\n\r\n    setTodoListToLocalStorage();\r\n}\r\n\r\n//ARMAZENAMENTO LOCALSTORAGE\r\nfunction getTodoListFromLocalStorage() {\r\n    const localStorageList = JSON.parse(localStorage.getItem(\"todoList\"));\r\n    if (localStorageList) {\r\n        allTodoList = localStorageList;\r\n    }\r\n}\r\n\r\nfunction setTodoListToLocalStorage() {\r\n    localStorage.setItem(\"todoList\", JSON.stringify(allTodoList));\r\n}\r\n\r\nfunction removeTodoListFromLocalStorage() {\r\n    localStorage.removeItem(\"todoList\");\r\n}\r\n\r\n//FUNÇÃO AUXILIAR\r\nfunction clearInput() {\r\n    isEditMode = false;\r\n    todoTitleInput.value = \"\";\r\n}\r\n\r\n//EXECUTAR FUNÇÃO PRINCIPAL\r\nstart();"],"mappings":"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"},"metadata":{},"sourceType":"module"}